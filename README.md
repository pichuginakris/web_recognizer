# Считывание qr кода с вебкамеры
## Описание
Идет перехват потока видео с вебкамеры. 
Когда к ней подносится билет с qr-кодом, кадр замирает на 10 секунд, считываюстя данные с этого кода об id билета. 
Затем в базе данных MongoDb добавляется информация о времени активации кода, а также состояние "активирован".
## Запуск
Необходимо установить библиотеки для проекта.
``` python
pip install -r requirements.txt
```
## Методы
### qr_recognition
Идет открытие видео потока с вебкамеры 1 и захват видео. 
Затем идет покадровая проверка на наличие qr кода через функцию decode.
``` python
    while True:
        ret, frame = cap.read()
        cv2.imshow('Video QR', frame)
        if decode(frame):
```
Если на кадре присутствует изображение qr кода, то получаем id билета из этого кода, а также время захвата. 
Затем вызываем метод activate_ticket для записи данных в бд.
### activate_ticket
Идет подключение к MongoDB по адресу, взятому с конфигурационного файла.
Далее по идет поиск билета по id, изменяется его статус с "не активирован" на "активирован".
Также добавляется поле дата активации.
``` python
collection.update_one({'tickets._id': ticket_id},
                              {"$set": {"tickets.$.activationDate": activation_date}})
collection.update_one({'tickets._id': ticket_id},
                              {"$set": {"tickets.$.status": "activated"}})
```